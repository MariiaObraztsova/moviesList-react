{"version":3,"sources":["components/MoviesList/MoviesList.tsx","components/MovieDetails/MovieDetails.tsx","api/api.ts","components/NewMovieForm/NewMovieForm.tsx","App.tsx","index.tsx"],"names":["MoviesList","selectedMovieId","preparedMovies","seeMovieDetails","closeMovieDetails","className","map","movie","title","year","id","type","onClick","movies","format","actors","MovieDetails","React","memo","movieId","useState","setMovie","useEffect","movieFromServer","find","item","actor","API_URL","createMovie","a","fetch","method","headers","body","JSON","stringify","response","ok","Error","status","statusText","json","NewMovieForm","setTitle","setYear","setFormat","setActors","handleInputChange","event","target","name","value","Number","split","forEach","push","handleSubmit","preventDefault","onSubmit","htmlFor","placeholder","onChange","moviesFromDoc","App","setMovies","titleToSearch","setTitleToSearch","actorToSearch","setActorToSearch","isSortedAlphabetically","setIsSortedAlphabetically","setSelectedMovieId","moviesFromServer","filter","toLowerCase","includes","some","sort","movie1","movie2","localeCompare","toLocaleLowerCase","ReactDOM","render","document","getElementById"],"mappings":"0RAWaA,EAA8B,SAAC,GAKrC,IAJLC,EAII,EAJJA,gBACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,kBAEA,OACE,sBAAKC,UAAU,aAAf,UACE,6CAIA,oBAAIA,UAAU,mBAAd,SACGH,EAAeI,KAAI,SAAAC,GAAK,OACvB,qBAEEF,UAAU,mBAFZ,oBAIME,EAAMC,MAJZ,aAIsBD,EAAME,MACzBF,EAAMG,KAAOT,EACZ,wBACAU,KAAK,SACLC,QAASR,EAFT,mBAOA,wBACEO,KAAK,SACLC,QAAS,kBAAMT,EAAgBI,EAAMG,KAFvC,4BAZGH,EAAMG,aCtBjBG,G,MAAkB,CACtB,CACEH,GAAI,EACJF,MAAO,aACPC,KAAM,KACNK,OAAQ,MACRC,OAAQ,CACJ,mBACA,iBACA,eACA,gBAGN,CACEL,GAAI,EACJF,MAAO,kBACPC,KAAM,KACNK,OAAQ,MACRC,OAAQ,CACN,aAAc,gBAAiB,gBAAiB,cAAe,eAAgB,oBASxEC,EAAgCC,IAAMC,MACjD,YAAkB,IAAfC,EAAc,EAAdA,QACD,EAA4BC,qBAA5B,mBAAQb,EAAR,KAAec,EAAf,KAcA,OANAC,qBAAU,WACR,IAAMC,EAAkBV,EAAOW,MAAK,SAAAC,GAAI,OAAIA,EAAKf,KAAOS,KAExDE,EAASE,KACR,CAACJ,IAGF,qBAAKd,UAAU,cAAf,SACGE,EACD,qCACE,uCACMA,EAAMC,MADZ,oBACsBD,QADtB,IACsBA,OADtB,EACsBA,EAAOE,QAG7B,8CACcF,EAAMO,UAGpB,qBAAIT,UAAU,sBAAd,oBAEGE,EAAMQ,OAAOT,KAAI,SAAAoB,GAAK,OACrB,oBAEErB,UAAU,qBAFZ,SAIGqB,GAHIA,YASX,qD,uBCvEJC,EAAU,sCAqBHC,EAAW,uCAAG,WAAOrB,GAAP,eAAAsB,EAAA,sEACFC,MAAMH,EAAS,CACpCI,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,+RAElBC,KAAMC,KAAKC,UAAU5B,KAPE,WACnB6B,EADmB,QAUXC,GAVW,sBAWjB,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAX1B,gCAclBJ,EAASK,QAdS,2CAAH,sDCpBXC,EAAyB,WACpC,MAA0BtB,mBAAS,IAAnC,mBAAOZ,EAAP,KAAcmC,EAAd,KACA,EAAwBvB,mBAAS,MAAjC,mBAAOX,EAAP,KAAamC,EAAb,KACA,EAA4BxB,mBAAS,IAArC,mBAAON,EAAP,KAAe+B,EAAf,KACA,EAA4BzB,mBAAmB,IAA/C,mBAAOL,EAAP,KAAe+B,EAAf,KAEMC,EAAoB,SAACC,GACzB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEd,OAAQD,GACN,IAAK,QACHP,EAASQ,GACT,MACF,IAAK,OACHP,EAAQQ,OAAOD,IACf,MACF,IAAK,SACHN,EAAUM,GACV,MACF,IAAK,SACH,IAAMpC,EAASoC,EAAME,MAAM,KAE3BtC,EAAOuC,SAAQ,SAAA5B,GAAK,OAAIX,EAAOwC,KAAK7B,QAapC8B,EAAY,uCAAG,WAAOR,GAAP,SAAAnB,EAAA,6DACnBmB,EAAMS,iBADa,SAGI7B,EAAY,CACjCpB,QACAC,OACAK,SACAC,WAPiB,cANnB4B,EAAS,IACTC,EAAQ,MACRC,EAAU,IACVC,EAAU,IAGS,2CAAH,sDAalB,OACE,uBAAMY,SAAUF,EAAhB,UACE,uBAAOG,QAAQ,QAAf,SACE,uBACEhD,KAAK,OACLD,GAAG,QACHkD,YAAY,cACZT,MAAO3C,EACP0C,KAAK,QACLW,SAAUd,MAId,uBAAOY,QAAQ,OAAf,SACE,uBACEhD,KAAK,OACLD,GAAG,OACHkD,YAAY,aACZT,MAAO1C,EACPyC,KAAK,OACLW,SAAUd,MAId,uBAAOY,QAAQ,SAAf,SACE,yBACEjD,GAAG,SACHyC,MAAOrC,EACPoC,KAAK,SACLW,SAAUd,EAJZ,UAME,wBAAQI,MAAM,GAAd,6BAIA,wBAAQA,MAAM,MAAd,iBAIA,wBAAQA,MAAM,MAAd,iBAIA,wBAAQA,MAAM,UAAd,0BAMJ,uBAAOQ,QAAQ,SAAf,SACE,uBACEhD,KAAK,OACLD,GAAG,SACHkD,YAAY,6BACZT,MAAOpC,EACPmC,KAAK,SACLW,SAAUd,MAId,wBAAQpC,KAAK,SAAb,6BCtGAmD,EAAyB,CAC7B,CACEpD,GAAI,EACJF,MAAO,aACPC,KAAM,KACNK,OAAQ,MACRC,OAAQ,CACJ,mBACA,iBACA,eACA,gBAGN,CACEL,GAAI,EACJF,MAAO,kBACPC,KAAM,KACNK,OAAQ,MACRC,OAAQ,CACN,aAAc,gBAAiB,gBAAiB,cAAe,eAAgB,mBAsItEgD,EAjIO,WACpB,MAA4B3C,qBAA5B,mBAAOP,EAAP,KAAemD,EAAf,KACA,EAA0C5C,mBAAS,IAAnD,mBAAO6C,EAAP,KAAsBC,EAAtB,KACA,EAA0C9C,mBAAS,IAAnD,mBAAO+C,EAAP,KAAsBC,EAAtB,KACA,EAA4DhD,oBAAS,GAArE,mBAAOiD,EAAP,KAA+BC,EAA/B,KACA,EAA8ClD,mBAAS,GAAvD,mBAAOnB,EAAP,KAAwBsE,EAAxB,KAEAjD,qBAAU,WACR,IAyBMkD,EAxBGV,EACNW,QAAO,SAAAlE,GACN,OAAI0D,EACK1D,EAAMC,MAAMkE,cAAcC,SAASV,GAGrC1D,KAERkE,QAAO,SAAAlE,GACN,OAAI4D,EACK5D,EAAMQ,OAAO6D,MAAK,SAAAlD,GAAK,OAAIA,EAAMgD,cAAcC,SAASR,MAG1D5D,KAERsE,MAAK,SAACC,EAAQC,GACb,OAAIV,EACKS,EAAOtE,MAAMwE,cAAcD,EAAOvE,OAGpC,KAKXwD,EAAUQ,KACT,CAACP,EAAeE,EAAeE,IAGlC,IAAMtB,EAAoB,SAACC,GACzB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEd,OAAQD,GACN,IAAK,gBACHgB,EAAiBf,EAAM8B,qBACvB,MACF,IAAK,gBACHb,EAAiBjB,EAAM8B,uBAuB7B,OACE,sBAAK5E,UAAU,MAAf,UACE,yBAAQA,UAAU,cAAlB,UACE,uBACEM,KAAK,OACLiD,YAAY,cACZT,MAAOc,EACPf,KAAK,gBACLW,SAAUd,IAGZ,uBACEpC,KAAK,OACLiD,YAAY,cACZT,MAAOgB,EACPjB,KAAK,gBACLW,SAAUd,IAGZ,wBACEpC,KAAK,SACLC,QAAS,kBAAM0D,GAA0B,IAF3C,iCAOA,wBACE3D,KAAK,SACLC,QA5CkB,WACxBsD,EAAiB,IACjBE,EAAiB,IACjBE,GAA0B,IAuCtB,mBAOA,cAAC,EAAD,OAGF,uBAAMjE,UAAU,YAAhB,UACE,qBAAKA,UAAU,eAAf,SACGQ,GACC,cAAC,EAAD,CACEZ,gBAAiBA,EACjBC,eAAgBW,EAChBV,gBAnDY,SAACgB,GACvBoD,EAAmBpD,IAmDTf,kBA/Cc,WACxBmE,EAAmB,QAmDf,qBAAKlE,UAAU,eAAf,SACGJ,EAAkB,GACjB,cAAC,EAAD,CACEkB,QAASlB,aCtJvBiF,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.53543a76.chunk.js","sourcesContent":["import React from 'react';\nimport { Movie } from '../../types';\nimport './MoviesList.css';\n\ntype Props = {\n  selectedMovieId: number,\n  preparedMovies: Movie[],\n  seeMovieDetails: (movieId: number) => void,\n  closeMovieDetails: () => void,\n}\n\nexport const MoviesList: React.FC<Props> = ({\n  selectedMovieId,\n  preparedMovies,\n  seeMovieDetails,\n  closeMovieDetails,\n}) => {\n  return (\n    <div className=\"MoviesList\">\n      <h2>\n        Movies List\n      </h2>\n\n      <ul className=\"MoviesList__list\">\n        {preparedMovies.map(movie => (\n          <li\n            key={movie.id}\n            className=\"MoviesList__item\"\n          >\n            {`${movie.title}, ${movie.year}`}\n            {movie.id === selectedMovieId ? (\n              <button\n              type=\"button\"\n              onClick={closeMovieDetails}\n            >\n              Close\n            </button>\n            ) : (\n              <button\n                type=\"button\"\n                onClick={() => seeMovieDetails(movie.id)}\n              >\n              View details\n            </button>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport { Movie } from '../../types';\nimport './MovieDetails.css';\n\nconst movies: Movie[] = [\n  {\n    id: 1,\n    title: \"Casablanca\",\n    year: 1942,\n    format: \"DVD\",\n    actors: [\n        \"Humphrey Bogartt\",\n        \"Ingrid Bergman\",\n        \"Claude Rains\",\n        \"Peter Lorre\"\n    ]\n  },\n  {\n    id: 2,\n    title: \"Blazing Saddles\",\n    year: 1974,\n    format: \"VHS\",\n    actors: [\n      \"Mel Brooks\", \"Clevon Little\", \"Harvey Korman\", \"Gene Wilder\", \"Slim Pickens\", \"Madeline Kahn\"\n    ]\n  }\n];\n\ntype Props = {\n  movieId: number,\n}\n\nexport const MovieDetails: React.FC<Props> = React.memo(\n  ({ movieId }) => {\n    const [ movie, setMovie ] = useState<Movie>();\n  \n    // const loadMovieDetails = () => {\n    //   const movieFromServer = movies.find(item => item.id === movieId);\n  \n    //   setMovie(movieFromServer);\n    // }\n  \n    useEffect(() => {\n      const movieFromServer = movies.find(item => item.id === movieId);\n  \n      setMovie(movieFromServer);\n    }, [movieId]);\n\n    return (\n      <div className=\"MovieDetail\">\n        {movie ? (\n        <>\n          <h2>\n            {`${movie.title}, ${movie?.year}`}\n          </h2>\n\n          <p>\n            {`Format: ${movie.format}`}\n          </p>\n\n          <ul className=\"MovieDetail__actors\">\n            Actors:\n            {movie.actors.map(actor => (\n              <li\n                key={actor}\n                className=\"MovieDetail__actor\"\n              >\n                {actor}\n              </li>\n            ))}\n          </ul>\n        </>\n        ) : (\n          <h2>\n            No movie found\n          </h2>\n        )}\n      </div>\n    )\n  }\n);\n","import { Movie } from \"../types\";\n\nconst API_URL = 'http://localhost:8000/api/v1/movies';\n\nexport const getAllMovies = async () => {\n  try {\n    const response = await fetch(API_URL, {\n      method: 'GET',\n      headers: {\n        'Authorization':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJwZXRyb0BnbWFpbC5jb20iLCJuYW1lIjoiUGV0cm92IFBldHJvIiwiY3JlYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwidXBkYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwiaWF0IjoxNjM4NzE4MDI4fQ.sCPMPn24hgEA6CIQJADGYh35YjJk11mJI9Zj7KcstXg',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n\n    return response.json();\n  } catch (error) {\n    throw new Error(`The problem is here ${error}`);\n  }\n};\n\nexport const createMovie = async (movie: Omit<Movie, 'id'>) => {\n  const response = await fetch(API_URL, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json',\n      'Authorization':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJwZXRyb0BnbWFpbC5jb20iLCJuYW1lIjoiUGV0cm92IFBldHJvIiwiY3JlYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwidXBkYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwiaWF0IjoxNjM4NzE4MDI4fQ.sCPMPn24hgEA6CIQJADGYh35YjJk11mJI9Zj7KcstXg',\n    },\n    body: JSON.stringify(movie),\n  });\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  return response.json();\n};\n\nexport const deleteComment = async (movieId: number) => {\n  const response = await fetch(`${API_URL}/${movieId}`, {\n    method: 'DELETE',\n    headers: {\n      'Authorization':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJwZXRyb0BnbWFpbC5jb20iLCJuYW1lIjoiUGV0cm92IFBldHJvIiwiY3JlYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwidXBkYXRlZEF0IjoiMjAyMS0xMi0wNVQxNToyNzowOC42MTJaIiwiaWF0IjoxNjM4NzE4MDI4fQ.sCPMPn24hgEA6CIQJADGYh35YjJk11mJI9Zj7KcstXg',\n    },\n  });\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  return response.json();\n};\n\n","import React, { useState } from 'react';\nimport { createMovie } from '../../api/api';\n\nexport const NewMovieForm: React.FC = () => {\n  const [title, setTitle] = useState('');\n  const [year, setYear] = useState(2021);\n  const [format, setFormat] = useState('');\n  const [actors, setActors] = useState<string[]>([]);\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = event.target\n\n    switch (name) {\n      case 'title':\n        setTitle(value);\n        break;\n      case 'year':\n        setYear(Number(value));\n        break;\n      case 'format':\n        setFormat(value);\n        break;\n      case 'actors':\n        const actors = value.split(',');\n\n        actors.forEach(actor => actors.push(actor));\n        break;\n      default:;\n    }\n  }\n\n  const clearForm = () => {\n    setTitle('');\n    setYear(2021);\n    setFormat('');\n    setActors([]);\n  }\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const newMovie = await createMovie({\n      title,\n      year,\n      format,\n      actors,\n    });\n\n    clearForm();\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label htmlFor=\"title\">\n        <input\n          type=\"text\"\n          id=\"title\"\n          placeholder=\"Enter title\"\n          value={title}\n          name=\"title\"\n          onChange={handleInputChange}\n        />\n      </label>\n\n      <label htmlFor=\"year\">\n        <input\n          type=\"text\"\n          id=\"year\"\n          placeholder=\"Enter year\"\n          value={year}\n          name=\"year\"\n          onChange={handleInputChange}\n        />\n      </label>\n\n      <label htmlFor=\"format\">\n        <select\n          id=\"format\"\n          value={format}\n          name=\"format\"\n          onChange={handleInputChange}\n        >\n          <option value=\"\">\n            Choose a format\n          </option>\n\n          <option value=\"VHS\">\n            VHS\n          </option>\n\n          <option value=\"DVD\">\n            DVD\n          </option>\n\n          <option value=\"Blu-Ray\">\n            Blu-Ray\n          </option>\n        </select>\n      </label>\n\n      <label htmlFor=\"actors\">\n        <input\n          type=\"text\"\n          id=\"actors\"\n          placeholder=\"Enter actors divided by , \"\n          value={actors}\n          name=\"actors\"\n          onChange={handleInputChange}\n        />\n      </label>\n\n      <button type=\"submit\">\n        Add a movie\n      </button>\n    </form>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport './normalization.css'\nimport { Movie } from './types';\n\nimport { MoviesList } from './components/MoviesList/MoviesList';\nimport { MovieDetails } from './components/MovieDetails/MovieDetails';\nimport { NewMovieForm } from './components/NewMovieForm/NewMovieForm';\n\nconst moviesFromDoc: Movie[] = [\n  {\n    id: 1,\n    title: \"Casablanca\",\n    year: 1942,\n    format: \"DVD\",\n    actors: [\n        \"Humphrey Bogartt\",\n        \"Ingrid Bergman\",\n        \"Claude Rains\",\n        \"Peter Lorre\"\n    ]\n  },\n  {\n    id: 2,\n    title: \"Blazing Saddles\",\n    year: 1974,\n    format: \"VHS\",\n    actors: [\n      \"Mel Brooks\", \"Clevon Little\", \"Harvey Korman\", \"Gene Wilder\", \"Slim Pickens\", \"Madeline Kahn\"\n    ]\n  }\n];\n\nconst App: React.FC = () => {\n  const [movies, setMovies] = useState<Movie[]>();\n  const [titleToSearch, setTitleToSearch] = useState('');\n  const [actorToSearch, setActorToSearch] = useState('');\n  const [isSortedAlphabetically, setIsSortedAlphabetically] = useState(false);\n  const [selectedMovieId, setSelectedMovieId] = useState(0);\n\n  useEffect(() => {\n    const filterMovies = () => {\n      return moviesFromDoc\n      .filter(movie => {\n        if (titleToSearch) {\n          return movie.title.toLowerCase().includes(titleToSearch)\n        }\n  \n        return movie;\n      })\n      .filter(movie => {\n        if (actorToSearch) {\n          return movie.actors.some(actor => actor.toLowerCase().includes(actorToSearch))\n        }\n  \n        return movie;\n      })\n      .sort((movie1, movie2) => {\n        if (isSortedAlphabetically) {\n          return movie1.title.localeCompare(movie2.title);\n        }\n  \n        return 0;\n      });\n    }\n\n    const moviesFromServer = filterMovies();\n    setMovies(moviesFromServer);\n  }, [titleToSearch, actorToSearch, isSortedAlphabetically])\n\n  // processing controlled inputs for searching by title and actor\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target\n\n    switch (name) {\n      case 'titleToSearch':\n        setTitleToSearch(value.toLocaleLowerCase());\n        break;\n      case 'actorToSearch':\n        setActorToSearch(value.toLocaleLowerCase());\n        break;\n      default:;\n    }\n  }\n\n  // reset all filters and sorting\n  const handleResetButton = () => {\n    setTitleToSearch('');\n    setActorToSearch('');\n    setIsSortedAlphabetically(false);\n  }\n\n  // set movie id to render movie details\n  const seeMovieDetails = (movieId: number) => {\n    setSelectedMovieId(movieId);\n  }\n\n  // reset rendering movie details\n  const closeMovieDetails = () => {\n    setSelectedMovieId(0);\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter title\"\n          value={titleToSearch}\n          name=\"titleToSearch\"\n          onChange={handleInputChange}\n        />\n\n        <input\n          type=\"text\"\n          placeholder=\"Enter actor\"\n          value={actorToSearch}\n          name=\"actorToSearch\"\n          onChange={handleInputChange}\n        />\n\n        <button\n          type=\"button\"\n          onClick={() => setIsSortedAlphabetically(true)}\n        >\n          Sort alphabetically\n        </button>\n\n        <button\n          type=\"button\"\n          onClick={handleResetButton}\n        >\n          Reset\n        </button>\n\n        <NewMovieForm />\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          {movies && (\n            <MoviesList\n              selectedMovieId={selectedMovieId}\n              preparedMovies={movies}\n              seeMovieDetails={seeMovieDetails}\n              closeMovieDetails={closeMovieDetails}\n            />\n          )}\n        </div>\n\n        <div className=\"App__content\">\n          {selectedMovieId > 0 && (\n            <MovieDetails\n              movieId={selectedMovieId}\n            />\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}